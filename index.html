<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Study Tracker - Team Progress</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #1e1e2f;
      color: #f1f1f1;
      margin: 0;
      padding: 20px;
    }
    .container {
      background: #2c2c40;
      padding: 25px;
      border-radius: 12px;
      box-shadow: 0 0 10px rgba(0,0,0,0.4);
      max-width: 1200px;
      margin: 0 auto;
    }
    h2 {
      text-align: center;
      color: #4cafef;
      margin-bottom: 30px;
    }
    .members-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }
    .member-card {
      background: #3a3a52;
      padding: 20px;
      border-radius: 10px;
      border-left: 4px solid #4cafef;
    }
    .member-header {
      display: flex;
      justify-content: between;
      align-items: center;
      margin-bottom: 15px;
    }
    .member-name {
      font-weight: bold;
      font-size: 1.2em;
      color: #4cafef;
    }
    .day-section {
      background: #2c2c40;
      padding: 12px;
      border-radius: 6px;
      margin: 10px 0;
    }
    .day-header {
      font-weight: bold;
      margin-bottom: 8px;
      color: #ffd700;
      font-size: 0.9em;
    }
    input {
      width: 60px;
      padding: 6px;
      margin: 3px;
      border-radius: 4px;
      border: 1px solid #555;
      background: #1e1e2f;
      color: white;
      text-align: center;
    }
    button {
      background: #4cafef;
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 8px;
      cursor: pointer;
      margin: 10px 5px;
      font-size: 1em;
      transition: background 0.3s;
      display: block;
      margin: 20px auto;
    }
    button:hover {
      background: #389cd9;
    }
    .results-section {
      background: #3a3a52;
      padding: 20px;
      border-radius: 10px;
      margin-top: 30px;
    }
    .results-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 15px;
      margin: 20px 0;
    }
    .result-card {
      background: #2c2c40;
      padding: 15px;
      border-radius: 8px;
      text-align: center;
    }
    .rank-1 {
      border: 2px solid #ffd700;
      background: #3a3a52;
    }
    .rank-last {
      border: 2px solid #ff6b6b;
    }
    .percentage {
      font-size: 1.4em;
      font-weight: bold;
      margin: 10px 0;
    }
    .highlight {
      background: #4cafef;
      color: white;
      padding: 10px;
      border-radius: 6px;
      margin: 15px 0;
      text-align: center;
    }
    .member-input-row {
      display: flex;
      align-items: center;
      margin-bottom: 8px;
    }
    .time-inputs {
      display: flex;
      align-items: center;
      margin-left: 10px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>üë• Study Tracker - Team Progress (3 Days)</h2>
    
    <div class="members-grid" id="membersContainer">
      <!-- Member cards will be generated here -->
    </div>

    <button onclick="calculateAll()">üìä Calculate All Percentages</button>
    <button onclick="resetAll()" style="background: #ff6b6b;">üîÑ Reset All Data</button>

    <div class="results-section" id="resultsSection" style="display: none;">
      <h3>üèÜ Results Summary</h3>
      
      <div class="highlight" id="topPerformer"></div>
      <div class="highlight" id="lowestPerformer" style="background: #ff6b6b;"></div>
      
      <div class="results-grid" id="resultsGrid">
        <!-- Results will be displayed here -->
      </div>
    </div>
  </div>

  <script>
    const members = [
      { id: 1, name: "ABHINAV AP", color: "#4cafef" },
      { id: 2, name: "VAISHNAV C", color: "#ff6b6b" },
      { id: 3, name: "ALAN JACOB", color: "#6bff6b" },
      { id: 4, name: "MUHAMMED ZAMEEL U", color: "#ffd700" },
      { id: 5, name: "JOEL PB", color: "#ff6bff" },
      { id: 6, name: "JIMIL GEORGE", color: "#6bd4ff" },
      { id: 7, name: "AROMAL AM", color: "#ffa500" }
    ];

    // Generate member cards
    function generateMemberCards() {
      const container = document.getElementById('membersContainer');
      container.innerHTML = '';

      members.forEach(member => {
        const memberCard = `
          <div class="member-card" style="border-left-color: ${member.color}">
            <div class="member-header">
              <span class="member-name" style="color: ${member.color}">${member.name}</span>
            </div>
            
            ${[1, 2, 3].map(day => `
              <div class="day-section">
                <div class="day-header">üìÖ Day ${day}</div>
                <div class="member-input-row">
                  <span>Study:</span>
                  <div class="time-inputs">
                    <input type="number" id="m${member.id}d${day}StudyH" placeholder="hrs" min="0">h
                    <input type="number" id="m${member.id}d${day}StudyM" placeholder="mins" min="0" max="59">m
                  </div>
                </div>
                <div class="member-input-row">
                  <span>Screen:</span>
                  <div class="time-inputs">
                    <input type="number" id="m${member.id}d${day}ScreenH" placeholder="hrs" min="0">h
                    <input type="number" id="m${member.id}d${day}ScreenM" placeholder="mins" min="0" max="59">m
                  </div>
                </div>
              </div>
            `).join('')}
          </div>
        `;
        container.innerHTML += memberCard;
      });
    }

    // Calculate percentages for all members
    function calculateAll() {
      const results = [];

      members.forEach(member => {
        let totalStudyMinutes = 0;
        let totalScreenMinutes = 0;

        // Calculate for 3 days
        for (let day = 1; day <= 3; day++) {
          const studyH = parseInt(document.getElementById(`m${member.id}d${day}StudyH`).value) || 0;
          const studyM = parseInt(document.getElementById(`m${member.id}d${day}StudyM`).value) || 0;
          const screenH = parseInt(document.getElementById(`m${member.id}d${day}ScreenH`).value) || 0;
          const screenM = parseInt(document.getElementById(`m${member.id}d${day}ScreenM`).value) || 0;

          totalStudyMinutes += studyH * 60 + studyM;
          totalScreenMinutes += screenH * 60 + screenM;
        }

        const percentage = totalScreenMinutes > 0 ? (totalStudyMinutes / totalScreenMinutes) * 100 : 0;
        
        results.push({
          member: member,
          studyMinutes: totalStudyMinutes,
          screenMinutes: totalScreenMinutes,
          percentage: percentage
        });
      });

      // Sort by percentage (highest first)
      results.sort((a, b) => b.percentage - a.percentage);

      displayResults(results);
    }

    // Display results with rankings
    function displayResults(results) {
      const resultsSection = document.getElementById('resultsSection');
      const resultsGrid = document.getElementById('resultsGrid');
      const topPerformer = document.getElementById('topPerformer');
      const lowestPerformer = document.getElementById('lowestPerformer');

      resultsSection.style.display = 'block';

      // Top and lowest performers
      const top = results[0];
      const lowest = results[results.length - 1];

      topPerformer.innerHTML = `üèÜ <strong>STUDY CHAMPION:</strong> ${top.member.name} - ${top.percentage.toFixed(2)}% Study Rate`;
      lowestPerformer.innerHTML = `üí™ <strong>NEEDS MOTIVATION:</strong> ${lowest.member.name} - ${lowest.percentage.toFixed(2)}% Study Rate`;

      // Display all results
      resultsGrid.innerHTML = '';
      results.forEach((result, index) => {
        const rank = index + 1;
        const studyHours = Math.floor(result.studyMinutes / 60);
        const studyMins = result.studyMinutes % 60;
        const screenHours = Math.floor(result.screenMinutes / 60);
        const screenMins = result.screenMinutes % 60;

        const rankClass = rank === 1 ? 'rank-1' : (rank === results.length ? 'rank-last' : '');

        resultsGrid.innerHTML += `
          <div class="result-card ${rankClass}" style="border-left: 4px solid ${result.member.color}">
            <div style="font-size: 1.1em; color: ${result.member.color}">${result.member.name}</div>
            <div class="percentage" style="color: ${result.member.color}">${result.percentage.toFixed(2)}%</div>
            <div>üìö Study: ${studyHours}h ${studyMins}m</div>
            <div>üì± Screen: ${screenHours}h ${screenMins}m</div>
            <div style="margin-top: 8px; font-weight: bold;">Rank: #${rank}</div>
          </div>
        `;
      });

      // Scroll to results
      resultsSection.scrollIntoView({ behavior: 'smooth' });
    }

    // Reset all data
    function resetAll() {
      const inputs = document.querySelectorAll('input[type="number"]');
      inputs.forEach(input => input.value = '');
      
      document.getElementById('resultsSection').style.display = 'none';
    }

    // Initialize the page
    generateMemberCards();
  </script>
</body>
</html>
