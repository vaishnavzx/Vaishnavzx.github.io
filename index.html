<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Study Tracker - Team Analytics</title>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
      color: white;
      padding: 20px;
      min-height: 100vh;
    }
    .container {
      max-width: 1200px;
      margin: 0 auto;
    }
    header {
      text-align: center;
      margin-bottom: 30px;
    }
    h1 {
      color: #4cc9f0;
      font-size: 2.5em;
      margin-bottom: 10px;
      text-shadow: 0 2px 10px rgba(76, 201, 240, 0.3);
    }
    .subtitle {
      color: #a5b4fc;
      font-size: 1.1em;
    }
    .controls {
      display: flex;
      gap: 10px;
      justify-content: center;
      margin: 30px 0;
      flex-wrap: wrap;
    }
    .btn {
      padding: 12px 24px;
      border: none;
      border-radius: 25px;
      cursor: pointer;
      font-size: 14px;
      font-weight: 600;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .btn-primary {
      background: linear-gradient(135deg, #4cc9f0, #4361ee);
      color: white;
    }
    .btn-success {
      background: linear-gradient(135deg, #4ade80, #22c55e);
      color: white;
    }
    .btn-warning {
      background: linear-gradient(135deg, #f59e0b, #d97706);
      color: white;
    }
    .btn-danger {
      background: linear-gradient(135deg, #ef4444, #dc2626);
      color: white;
    }
    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    }
    .view-toggles {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin: 20px 0;
    }
    .view-btn {
      padding: 10px 20px;
      border: 2px solid #4cc9f0;
      background: transparent;
      color: #4cc9f0;
      border-radius: 20px;
      cursor: pointer;
      transition: all 0.3s;
    }
    .view-btn.active {
      background: #4cc9f0;
      color: white;
    }
    .members-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }
    .member-card {
      background: rgba(30, 30, 46, 0.8);
      padding: 20px;
      border-radius: 15px;
      border-left: 4px solid;
      backdrop-filter: blur(10px);
      box-shadow: 0 8px 32px rgba(0,0,0,0.1);
      transition: transform 0.3s ease;
    }
    .member-card:hover {
      transform: translateY(-5px);
    }
    .member-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
    }
    .member-name {
      font-weight: bold;
      font-size: 1.2em;
    }
    .member-avatar {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      font-size: 1.1em;
    }
    .day-section {
      background: rgba(44, 44, 64, 0.6);
      padding: 15px;
      border-radius: 10px;
      margin: 10px 0;
    }
    .day-header {
      color: #fbbf24;
      font-weight: bold;
      margin-bottom: 10px;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .input-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
    }
    .input-group {
      display: flex;
      flex-direction: column;
      gap: 5px;
    }
    .input-label {
      font-size: 0.8em;
      color: #a5b4fc;
    }
    input {
      padding: 10px;
      border: 1px solid #4b5563;
      border-radius: 8px;
      background: rgba(30, 30, 46, 0.9);
      color: white;
      text-align: center;
      transition: border-color 0.3s;
    }
    input:focus {
      border-color: #4cc9f0;
      outline: none;
    }
    .results-section {
      background: rgba(30, 30, 46, 0.9);
      padding: 30px;
      border-radius: 20px;
      margin-top: 40px;
      box-shadow: 0 10px 40px rgba(0,0,0,0.2);
    }
    .results-header {
      text-align: center;
      margin-bottom: 30px;
    }
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin: 30px 0;
    }
    .stat-card {
      background: linear-gradient(135deg, #4361ee, #3a0ca3);
      padding: 20px;
      border-radius: 15px;
      text-align: center;
    }
    .stat-value {
      font-size: 2em;
      font-weight: bold;
      margin: 10px 0;
    }
    .rankings-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 20px;
      margin: 30px 0;
    }
    .ranking-card {
      background: rgba(44, 44, 64, 0.8);
      padding: 20px;
      border-radius: 15px;
      text-align: center;
      transition: transform 0.3s;
      border: 2px solid transparent;
    }
    .ranking-card:hover {
      transform: scale(1.02);
    }
    .rank-1 {
      border-color: #fbbf24;
      background: linear-gradient(135deg, rgba(251, 191, 36, 0.1), rgba(44, 44, 64, 0.8));
      position: relative;
    }
    .rank-1::before {
      content: "üëë";
      position: absolute;
      top: -15px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 2em;
    }
    .percentage {
      font-size: 2.5em;
      font-weight: bold;
      margin: 15px 0;
      background: linear-gradient(135deg, #4cc9f0, #f72585);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    .progress-bar {
      width: 100%;
      height: 8px;
      background: #374151;
      border-radius: 10px;
      margin: 10px 0;
      overflow: hidden;
    }
    .progress-fill {
      height: 100%;
      border-radius: 10px;
      transition: width 0.5s ease;
    }
    .achievements {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      justify-content: center;
      margin: 20px 0;
    }
    .badge {
      background: linear-gradient(135deg, #f59e0b, #d97706);
      padding: 8px 15px;
      border-radius: 20px;
      font-size: 0.8em;
      font-weight: bold;
    }
    .daily-breakdown {
      margin: 30px 0;
    }
    .day-results {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 15px;
      margin-top: 15px;
    }
    .day-result-card {
      background: rgba(44, 44, 64, 0.6);
      padding: 15px;
      border-radius: 10px;
      text-align: center;
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>üìä Study Analytics Pro</h1>
      <p class="subtitle">Track your team's learning journey ‚Ä¢ 7 Members ‚Ä¢ 3 Days</p>
    </header>

    <div class="controls">
      <button class="btn btn-primary" onclick="fillSampleData()">
        <span>üé≤</span> Fill Sample Data
      </button>
      <button class="btn btn-success" onclick="calculateResults()">
        <span>üìà</span> Calculate Analytics
      </button>
      <button class="btn btn-warning" onclick="saveProgress()">
        <span>üíæ</span> Save Progress
      </button>
      <button class="btn btn-danger" onclick="resetAll()">
        <span>üîÑ</span> Reset All
      </button>
    </div>

    <div class="view-toggles">
      <button class="view-btn active" onclick="switchView('input')">üìù Input Data</button>
      <button class="view-btn" onclick="switchView('results')">üìä View Results</button>
    </div>

    <div id="inputView">
      <div class="members-grid" id="membersContainer"></div>
    </div>

    <div id="resultsView" style="display: none;">
      <div class="results-section">
        <div class="results-header">
          <h2>üèÜ Team Performance Dashboard</h2>
          <p>Analysis based on 3 days of study data</p>
        </div>

        <div class="stats-grid" id="teamStats"></div>

        <div class="daily-breakdown">
          <h3>üìÖ Daily Performance</h3>
          <div class="day-results" id="dailyResults"></div>
        </div>

        <div class="achievements" id="achievementsContainer"></div>

        <div class="rankings-grid" id="rankingsContainer"></div>
      </div>
    </div>
  </div>

  <script>
    const members = [
      { id: 1, name: "ABHINAV AP", color: "#4cc9f0", avatar: "A" },
      { id: 2, name: "VAISHNAV C", color: "#f72585", avatar: "V" },
      { id: 3, name: "ALAN JACOB", color: "#4ade80", avatar: "A" },
      { id: 4, name: "MUHAMMED ZAMEEL U", color: "#fbbf24", avatar: "M" },
      { id: 5, name: "JOEL PB", color: "#a855f7", avatar: "J" },
      { id: 6, name: "JIMIL GEORGE", color: "#06d6a0", avatar: "J" },
      { id: 7, name: "AROMAL AM", color: "#ff6b6b", avatar: "A" }
    ];

    const studyGoals = {
      minimum: 4 * 60,  // 4 hours
      target: 6 * 60    // 6 hours
    };

    function loadMemberCards() {
      const container = document.getElementById('membersContainer');
      container.innerHTML = '';

      members.forEach(member => {
        const card = `
          <div class="member-card" style="border-left-color: ${member.color}">
            <div class="member-header">
              <div class="member-name" style="color: ${member.color}">
                ${member.name}
              </div>
              <div class="member-avatar" style="background: ${member.color}">
                ${member.avatar}
              </div>
            </div>
            
            ${[1, 2, 3].map(day => `
              <div class="day-section">
                <div class="day-header">
                  <span>üìÖ Day ${day}</span>
                </div>
                <div class="input-grid">
                  <div class="input-group">
                    <div class="input-label">Study Hours</div>
                    <input type="number" id="m${member.id}d${day}StudyH" placeholder="0" min="0">
                  </div>
                  <div class="input-group">
                    <div class="input-label">Study Minutes</div>
                    <input type="number" id="m${member.id}d${day}StudyM" placeholder="0" min="0" max="59">
                  </div>
                  <div class="input-group">
                    <div class="input-label">Screen Hours</div>
                    <input type="number" id="m${member.id}d${day}ScreenH" placeholder="0" min="0">
                  </div>
                  <div class="input-group">
                    <div class="input-label">Screen Minutes</div>
                    <input type="number" id="m${member.id}d${day}ScreenM" placeholder="0" min="0" max="59">
                  </div>
                </div>
              </div>
            `).join('')}
          </div>
        `;
        container.innerHTML += card;
      });

      loadSavedData();
    }

    function switchView(view) {
      document.getElementById('inputView').style.display = view === 'input' ? 'block' : 'none';
      document.getElementById('resultsView').style.display = view === 'results' ? 'block' : 'none';
      
      document.querySelectorAll('.view-btn').forEach(btn => btn.classList.remove('active'));
      event.target.classList.add('active');
    }

    function fillSampleData() {
      members.forEach(member => {
        for (let day = 1; day <= 3; day++) {
          document.getElementById(`m${member.id}d${day}StudyH`).value = Math.floor(Math.random() * 4) + 2;
          document.getElementById(`m${member.id}d${day}StudyM`).value = Math.floor(Math.random() * 60);
          document.getElementById(`m${member.id}d${day}ScreenH`).value = Math.floor(Math.random() * 6) + 4;
          document.getElementById(`m${member.id}d${day}ScreenM`).value = Math.floor(Math.random() * 60);
        }
      });
      saveProgress();
    }

    function calculateResults() {
      const results = [];
      let totalTeamStudy = 0;
      let totalTeamScreen = 0;

      // Calculate individual results
      members.forEach(member => {
        let totalStudy = 0;
        let totalScreen = 0;
        const dailyData = [];

        for (let day = 1; day <= 3; day++) {
          const studyH = parseInt(document.getElementById(`m${member.id}d${day}StudyH`).value) || 0;
          const studyM = parseInt(document.getElementById(`m${member.id}d${day}StudyM`).value) || 0;
          const screenH = parseInt(document.getElementById(`m${member.id}d${day}ScreenH`).value) || 0;
          const screenM = parseInt(document.getElementById(`m${member.id}d${day}ScreenM`).value) || 0;

          const dayStudy = studyH * 60 + studyM;
          const dayScreen = screenH * 60 + screenM;
          const dayPercentage = dayScreen > 0 ? (dayStudy / dayScreen * 100) : 0;

          dailyData.push({
            day: day,
            study: dayStudy,
            screen: dayScreen,
            percentage: dayPercentage
          });

          totalStudy += dayStudy;
          totalScreen += dayScreen;
        }

        totalTeamStudy += totalStudy;
        totalTeamScreen += totalScreen;

        const percentage = totalScreen > 0 ? (totalStudy / totalScreen * 100) : 0;
        
        results.push({
          member: member,
          study: totalStudy,
          screen: totalScreen,
          percentage: percentage,
          dailyData: dailyData
        });
      });

      showResults(results, totalTeamStudy, totalTeamScreen);
      switchView('results');
      saveProgress();
    }

    function showResults(results, totalStudy, totalScreen) {
      // Sort by percentage
      results.sort((a, b) => b.percentage - a.percentage);

      // Team statistics
      const teamPercentage = totalScreen > 0 ? (totalStudy / totalScreen * 100) : 0;
      const avgPercentage = results.reduce((sum, r) => sum + r.percentage, 0) / results.length;

      document.getElementById('teamStats').innerHTML = `
        <div class="stat-card">
          <div>üèÜ Team Average</div>
          <div class="stat-value">${avgPercentage.toFixed(1)}%</div>
          <div>Overall Performance</div>
        </div>
        <div class="stat-card">
          <div>üìö Total Study</div>
          <div class="stat-value">${Math.floor(totalStudy / 60)}h</div>
          <div>${totalStudy % 60}m across team</div>
        </div>
        <div class="stat-card">
          <div>üì± Total Screen</div>
          <div class="stat-value">${Math.floor(totalScreen / 60)}h</div>
          <div>${totalScreen % 60}m across team</div>
        </div>
        <div class="stat-card">
          <div>‚ö° Efficiency</div>
          <div class="stat-value">${teamPercentage.toFixed(1)}%</div>
          <div>Team Ratio</div>
        </div>
      `;

      // Daily breakdown
      const dailyResults = document.getElementById('dailyResults');
      dailyResults.innerHTML = members.map(member => {
        const result = results.find(r => r.member.id === member.id);
        return `
          <div class="day-result-card">
            <div style="color: ${member.color}; font-weight: bold;">${member.name}</div>
            ${result.dailyData.map(day => `
              <div style="margin: 5px 0; font-size: 0.9em;">
                Day ${day.day}: ${day.percentage.toFixed(1)}%
              </div>
            `).join('')}
          </div>
        `;
      }).join('');

      // Achievements
      const achievements = calculateAchievements(results);
      document.getElementById('achievementsContainer').innerHTML = achievements.map(ach => `
        <div class="badge">${ach}</div>
      `).join('');

      // Rankings
      const rankingsContainer = document.getElementById('rankingsContainer');
      rankingsContainer.innerHTML = results.map((result, index) => {
        const rank = index + 1;
        const studyH = Math.floor(result.study / 60);
        const studyM = result.study % 60;
        const screenH = Math.floor(result.screen / 60);
        const screenM = result.screen % 60;

        return `
          <div class="ranking-card ${rank === 1 ? 'rank-1' : ''}">
            <div style="color: ${result.member.color}; font-weight: bold; font-size: 1.1em;">
              ${result.member.name}
            </div>
            <div class="percentage">${result.percentage.toFixed(1)}%</div>
            <div>üìö ${studyH}h ${studyM}m study</div>
            <div>üì± ${screenH}h ${screenM}m screen</div>
            <div class="progress-bar">
              <div class="progress-fill" style="width: ${Math.min(result.percentage, 100)}%; background: ${result.member.color};"></div>
            </div>
            <div style="margin-top: 10px; font-weight: bold; font-size: 1.1em;">
              Rank: #${rank} ${rank === 1 ? 'üëë' : ''}
            </div>
          </div>
        `;
      }).join('');
    }

    function calculateAchievements(results) {
      const achievements = [];
      const top = results[0];
      const consistent = results.filter(r => r.percentage > 40).length;

      if (top.percentage > 60) achievements.push("üëë Study Champion");
      if (consistent >= 5) achievements.push("üìö Consistent Team");
      if (results.every(r => r.study >= studyGoals.minimum)) achievements.push("‚ö° All Goals Met");
      if (top.percentage > 70) achievements.push("üéØ Productivity Master");

      return achievements;
    }

    function saveProgress() {
      const data = {};
      members.forEach(member => {
        data[member.id] = {};
        for (let day = 1; day <= 3; day++) {
          data[member.id][day] = {
            studyH: document.getElementById(`m${member.id}d${day}StudyH`).value,
            studyM: document.getElementById(`m${member.id}d${day}StudyM`).value,
            screenH: document.getElementById(`m${member.id}d${day}ScreenH`).value,
            screenM: document.getElementById(`m${member.id}d${day}ScreenM`).value
          };
        }
      });
      localStorage.setItem('studyTeamData', JSON.stringify(data));
    }

    function loadSavedData() {
      const saved = localStorage.getItem('studyTeamData');
      if (saved) {
        const data = JSON.parse(saved);
        members.forEach(member => {
          for (let day = 1; day <= 3; day++) {
            if (data[member.id] && data[member.id][day]) {
              document.getElementById(`m${member.id}d${day}StudyH`).value = data[member.id][day].studyH;
              document.getElementById(`m${member.id}d${day}StudyM`).value = data[member.id][day].studyM;
              document.getElementById(`m${member.id}d${day}ScreenH`).value = data[member.id][day].screenH;
              document.getElementById(`m${member.id}d${day}ScreenM`).value = data[member.id][day].screenM;
            }
          }
        });
      }
    }

    function resetAll() {
      if (confirm('Are you sure you want to reset all data?')) {
        localStorage.removeItem('studyTeamData');
        const inputs = document.querySelectorAll('input');
        inputs.forEach(input => input.value = '');
        document.getElementById('achievementsContainer').innerHTML = '';
        document.getElementById('rankingsContainer').innerHTML = '';
        switchView('input');
      }
    }

    // Initialize
    loadMemberCards();
  </script>
</body>
</html>
